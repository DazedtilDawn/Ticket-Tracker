### ✅ Direction confirmed

We’re locking-in **Option A** (“Drizzle literals in `snake_case`, DB columns renamed to match”).
Your very next focus should be **Task P-1** from the plan:

---

## ⏩ **Next step for the agent**

### P-1 Create the “column-casing” migration

1. **File to add**
   `migrations/0002_fix_column_casing.sql`  (or the next sequential number).

2. **Contents** – for every table that still has odd-cased columns, emit `ALTER TABLE … RENAME COLUMN … TO …` statements.
   *Minimum required set (from the live DB inspection):*

   ```sql
   -- daily_bonus ----------------------------------------------------
   ALTER TABLE daily_bonus RENAME COLUMN userid            TO user_id;
   ALTER TABLE daily_bonus RENAME COLUMN bonusdate         TO bonus_date;
   ALTER TABLE daily_bonus RENAME COLUMN assignedchoreid   TO assigned_chore_id;
   ALTER TABLE daily_bonus RENAME COLUMN triggertype       TO trigger_type;
   ALTER TABLE daily_bonus RENAME COLUMN isoverride        TO is_override;
   ALTER TABLE daily_bonus RENAME COLUMN isspun            TO is_spun;
   ALTER TABLE daily_bonus RENAME COLUMN spinresulttickets TO spin_result_tickets;
   ALTER TABLE daily_bonus RENAME COLUMN pendingmultiplier TO pending_multiplier;

   /* 🔍  run `\d` on other tables (users, chores, transactions…) and add
       similar renames if any columns are still lowercase/all-one-word. */
   ```

   > 💡  If any columns picked up the wrong data-type or lost defaults during earlier manual tinkering, fix them here too (`ALTER TABLE … ALTER COLUMN … SET DEFAULT …`, etc.).

3. **Run the migration** against your dev database (psql or `drizzle-kit push`).
   Verify with `\d+ daily_bonus` that the columns are now `snake_case`.

---

### Immediately after P-1

* **Revert** the quick-fix lowercase literals in `shared/schema.ts` so every `pgTable` uses the correct `snake_case` string again.
* Run `drizzle-kit check` – it should report zero drift.
* Commit:

  * `migrations/0002_fix_column_casing.sql`
  * updated `shared/schema.ts`
  * updated Drizzle journal / config artefacts.

Once that’s green, we’ll move to **P-2/3** (schema check & code sweep) and then on to the FamilyService work.

---

### 🔔 Ping me when P-1 is complete (or if any column rename uncertainties pop up).
