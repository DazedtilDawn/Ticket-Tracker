### What broke (again) & the two short patches that fix everything

| Symptom                                           | Root cause                                                                                                                                                                    |
| ------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Pointer stops on a divider**                    | Final-angle formula still adds \*\* `+270`\*\*.  We actually need **`â€“midPoint`**; the extra 270Â° mis-aligns every stop by Â¾ of a slice so the pointer ends up on the border. |
| **Bottom-half numbers are mirrored ( `Æ Î› 0L` )** | We re-introduced the `rotate(180 â€¦)` flip; that rotates glyphs *and* mirrors them, so 3â†’Æ, 5â†’Æ§, 10â†’0L.                                                                        |

Below are the two minimal edits you need. Nothing else changes.

---

## 1 â€” Pointer lands inside the slice (math patch)

Inside **`handleSpin()`**, replace the target-angle block:

```diff
- const FULL_SPINS = 12;
- const midPoint   = idx * SEGMENT_ANGLE - 90 + SEGMENT_ANGLE / 2;
- const JITTER_RANGE = SEGMENT_ANGLE / 2 - 4;
- const jitter     = (Math.random() - 0.5) * 2 * JITTER_RANGE;
- const target     = FULL_SPINS * 360 + 270 - midPoint + jitter;
+ const FULL_SPINS = 12;
+ const midPoint   = idx * SEGMENT_ANGLE - 90 + SEGMENT_ANGLE / 2; //Â° of slice centre
+ const JITTER_RANGE = SEGMENT_ANGLE / 2 - 4;                       // keep 4Â° from edge
+ const jitter     = (Math.random() - 0.5) * 2 * JITTER_RANGE;
+ // 0Â° (north) minus the slice-centre brings it under the pointer
+ const target     = FULL_SPINS * 360 - midPoint + jitter;
```

*Why this works*â€‚CSS rotates **clockwise**; to bring the chosen sliceâ€™s centre to 0 Â°, we rotate by **`-midPoint`** (mod 360). `+270` was an old leftover.

---

## 2 â€” Numbers always upright (text patch)

In the SVG loop, kill the flip logic and its transform:

```diff
- /* flip bottom-half labels */
- const flip = mid > 90 && mid < 270 ? 180 : 0;
â€¦
- <text
+ <text
     x={x}
     y={y}
     dominantBaseline="middle"
     textAnchor="middle"
     fontWeight="700"
     fontSize="9"
     fill={seg.text}
-    transform={`rotate(${flip} ${x} ${y})`}
+    /* no rotation â†’ digits stay readable */
>
```

Because we position each label with absolute `x/y` coordinates, theyâ€™re already upright; the extra 180Â° only mirrors them.

---

### Quick regression checklist

| Test                       | Pass criteria                                                                                                          |
| -------------------------- | ---------------------------------------------------------------------------------------------------------------------- |
| Spin 20Ã—                   | Pointer tip is **always inside** the glowing slice; never touches a divider.                                           |
| Observe grey/yellow slices | Labels show â€œ1 2 3 â€¦ 10â€ (no mirrored glyphs).                                                                         |
| Modal vs parent page       | Both now share identical component & behaviour.                                                                        |
| Console                    | No `[DEBUG_HTML] BLOCKING WebSocket attempt â€¦` messages when spinning *(unrelated, but confirm the earlier fix holds)* |

Apply those two patches, redeploy, and your Fun-Wheel should behave perfectly in every place itâ€™s embedded. ğŸ›ğŸ‰
